<!DOCTYPE html>
<html lang="zh-tw">

<head>
    <meta charset="UTF-8">
    <title>02checkPassword.html</title>
</head>

<body>
    <label>Password:</label>
    <input type="text" id="idPwd" size="6" /><!-- 瀏覽器執行到此標籤會建立一個物件-->
    <span id="idsp"></span><br />
    <input type="button" id="idbut" value="checkPassword" onclick="checkPwd();" />

    <script>
        function checkPwd() {
            //取得idPwd元素
            let pwdObj = document.getElementById("idPwd");
            console.log(pwdObj);//<input type="password" id="idPwd" size="6" />
            //取得idPwd元素值
            let pwdObjVal = pwdObj.value;
            console.log(typeof pwdObjVal);  //string

            //判斷元素值是否為空白，密碼長度是否大於6
            //如果長度是否大於6，判斷是否包含字母、數字、特殊符號
            let pwdObjValLen = pwdObjVal.length;
            let sp = document.getElementById("idsp");
            let ch, flag1 = false, flag2 = false;

            if (pwdObjVal == "") {
                sp.innerHTML = "you must enter";
            } else if (pwdObjValLen >= 6) {
                // sp.innerHTML = ">=6";
                for (let i = 0; i < pwdObjValLen; i++) {
                    ch = pwdObjVal.charAt(i).toUpperCase();
                    console.log(ch);

                    if (ch >= "A" && ch <= "Z")
                        flag1 = true;
                    else if (ch >= "0" && ch <= "9")
                        flag2 = true;
                    if (flag1 && flag2) break;
                }  //for
                if (flag1 && flag2)
                    sp.innerHTML = "correct";
                else
                    sp.innerHTML = "incorrect";
            } else {
                sp.innerHTML = "Password length must greater than 6";
            }

        }    
    </script>
</body>

</html>